<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="author" content="Christian Mayer" />
    <meta name="author" content="Marc Jansen" />
    <title>GeoExt 3 in der Praxis | Vortrag auf der FOSSGIS 2017, Passau</title>
    <meta name="description" content="GeoExt 3 in der Praxis" />
    <!--[if lt IE 9]>
    <script src="../shared/lib/reveal.js-3.3.0/lib/js/html5shiv.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="../shared/lib/reveal.js-3.3.0/css/reveal.css" />
    <link rel="stylesheet" href="../shared/lib/reveal.js-3.3.0/css/theme/beige.css" />

    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Lato|Merriweather" rel="stylesheet">
    <link rel="stylesheet" href="../shared/css/customized.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../shared/lib/reveal.js-3.3.0/lib/css/zenburn.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ?
        '../shared/lib/reveal.js-3.3.0/css/print/pdf.css' :
        '../shared/lib/reveal.js-3.3.0/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

  </head>
  <body>


<!-- BEGIN OF SLIDES -->


    <div class="reveal">
      <div class="slides">

        <section id="start">
          <h1>GeoExt3</h1>
          <img src="../shared/img/geoext-logo.png" class="plain" width=140>
          <h3>GeoExt 3 in der Praxis</h3>
          <p>
            <small>Christian Mayer &amp; Marc Jansen</small>
          </p>
          <p>
            <span style="font-size: small;">FOSSGIS 2017, Passau, 23.03.2017</small>
          </p>
        </section>

        <section id="toc">
          <h2>Gliederung</h2>
          <ul>
            <li>Über&hellip;</li>
            <li>Stand</li>
            <li>Praxistipps</li>
            <li>Projekt-Beispiele</li>
            <li>Aufbau Projektsetup</li>
          </ul>
        </section>

        <section id="author-christian-mayer">
          <h2>Christian Mayer</h2>
          <div class="split-info">
            <div class="part" style="width:35%">
              <img src="../shared/img/cm.jpg" class="plain" width="200"/><br />
              <small>
                <a class="email" href="mailto:chris@meggsimum">chris@meggsimum.de</a><br />
                <a class="github" href="https://github.com/chrismayer/">@chrismayer</a><br />
                <a class="twitter" href="https://twitter.com/geofootballer/">@geofootballer</a><br />
              </small><br />
            </div>
            <div class="part"  style="width:60%">
              <div class="enumeration">
                <ul>
                  <li>Geoinformatiker</li>
                  <li>Softwareentwickler &amp; -architekt</li>
                  <li>Kernentwickler und PSC Mitglied GeoExt</li>
                  <li>Sprecher &amp; Trainer <br /> national &amp; international</li>
                  <li>OSGeo Foundation Charter Member</li>
                </ul>
              </div>
            </div>
          </div>
          <div style="clear:both"></div>
        </section>

        <section id="about-company-meggsimum">
          <h2>meggsimum</h2>
          <div class="split-info">
            <div class="part" style="width:35%">
              <img src="../shared/img/meggsimum-logo.png" class="plain" width="200"/>
              <br /><br />
              <a class="github" href="https://github.com/meggsimum/">@meggsimum</a><br />
              <a class="twitter" href="https://twitter.com/meggsimum/">@meggsimum</a>
            </div>
            <div class="part" style="width:60%">
              <div class="enumeration">
                <ul>
                  <li><a href="https://meggsimum.de/">meggsimum.de</a></li>
                  <li>Dienstleistungen im Bereich GIS, Webmapping &amp; GDI</li>
                  <li>Maßgeschneiderte WebGIS-Lösungen</li>
                  <li>Softwarekonzepte und Softwareentwicklung</li>
                  <li>Geodaten</li>
                  <li>Beratung und Schulung</li>
                </ul>
              </div>
            </div>
          </div>
          <div style="clear:both"></div>
        </section>

        <section id="author-marc-jansen">
          <h2>Marc Jansen</h2>
          <div class="split-info">
            <div class="part" style="width:35%">
              <img src="../shared/img/mj.jpg" class="plain" width="200"/><br />
              <small>
                <a class="email" href="mailto:jansen@terrestris.de">jansen@terrestris.de</a><br />
                <a class="github" href="https://github.com/marcjansen/">@terrestris</a><br />
                <a class="twitter" href="https://twitter.com/selectoid/">@selectoid</a><br />
              </small><br />
              <img src="../shared/img/openlayers_de_1ed.png" class="plain" width=100 />
            </div>
            <div class="part" style="width:60%">
              <div class="enumeration">
                <ul>
                  <li>Seit 2007 Entwickler / Projektleiter bei terrestris</li>
                  <li>Kernentwickler und PSC Mitglied GeoExt</li>
                  <li>Kernentwickler OpenLayers</li>
                  <li>Buchautor "OpenLayers"</li>
                  <li>Sprecher &amp; Trainer <br /> national &amp; international</li>
                  <li>OSGeo Foundation Charter Member</li>
                </ul>
              </div>
            </div>
          </div>
          <div style="clear:both"></div>
        </section>

        <section id="about-company-terrestris">
          <h2>terrestris</h2>
          <div class="split-info">
            <div class="part" style="width:35%">
              <img src="../shared/img/terrestris-logo.png" class="plain" width="200"/>
              <br /><br />
              <a class="github" href="https://github.com/terrestris/">@terrestris</a><br />
              <a class="twitter" href="https://twitter.com/terrestrisde/">@terrestrisde</a>
            </div>
            <div class="part" style="width:60%">
              <div class="enumeration">
                <ul>
                  <li><a href="https://terrestris.de/">terrestris.de</a></li>
                  <li>OpenSource GIS aus Bonn</li>
                  <li>Entwicklung, Projekte &amp; Support/Schulung</li>
                  <li>Beratung, Planung, Implementierung &amp; Wartung</li>
                </ul>
              </div>
            </div>
          </div>
          <div style="clear:both"></div>
        </section>

        <section>
          <h1>GeoExt</h1>
          <h2>Aktueller Stand</h2>
        </section>

        <section>
          <h2>GeoExt</h2>
          <ul>
            <li>JavaScript-Framework für "Rich Web Mapping Applications"</li>
            <li>Basiert auf OpenLayers und ExtJS</li>
            <li>Erweitert ExtJS um räumliche Komponenten</li>
            <li>Grafische Komponenten und Daten-Paket</li>
            <li>OpenSource, © OSGeo</li>
            <li>Seit März 2009 (~ 8 Jahre)</li>
          </ul>
        </section>

        <section
          data-background-image="img/desktop-complex-composed.png"
          data-background-size="contain">
          <p>&nbsp;</p>
        </section>

        <section
          data-background-image="img/bfs-composed.png"
          data-background-size="contain">
          <p>&nbsp;</p>
        </section>

        <section>
          <h2>Versionen</h2>
          <table>
            <thead>
              <tr>
                <th>GeoExt</th>
                <th>ExtJS</th>
                <th>OpenLayers</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1.1.x</td>
                <td>3.4.0</td>
                <td>2.11.1</td>
              </tr>
              <tr>
                <td>2.1.x</td>
                <td>4.2.1 / 5.1.0</td>
                <td>2.13.1</td>
              </tr>
              <tr class="fragment highlight-blue">
                <td>3.0.0</td>
                <td>6.2.0</td>
                <td>3.20.1</td>
              </tr>
              <tr>
                <td>3 (master)</td>
                <td>6.2.0</td>
                <td>4.0.x</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <img style="margin: 0" src="img/v3.0.0-fireworks-2.png" alt="GeoExt Release v3.0.0" />
          <p style="margin: 0;"><a href="https://github.com/geoext/geoext3/releases">GeoExt v3.0.0 Release</a></p>
          <p style="margin: 0; font-size: .5em;">Photo By <a href="//commons.wikimedia.org/wiki/User:Iotatau" title="User:Iotatau">Jochen Teufel</a> - <span class="int-own-work" lang="en">Own work</span>, <a href="http://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=7235554">Link</a></span>
        </section>

        <section>
          <h1>Praxistipps</h1>
          <p>&nbsp;</p>
          <h3>Do's and Don'ts <br/> für die Arbeit mit GeoExt 3</h3>
          <!-- https://www.visualthesaurus.com/cm/wc/dos-and-donts-or-dos-and-donts/ -->
        </section>

        <section>
          <h2>Do's</h2>
          <ul>
              <li>GeoExt via <code>git clone</code></li>
              <li>Zielgruppe festlegen (&rArr; <code>toolkit</code>)</li>
              <li>Grundsätzlich: Sencha CMD verwenden</li>
              <li>Manchmal: <code>ext-all-debug.js</code></li>
              <li>MVVM verwenden</li>
              <li><code>sencha app watch</code> &amp; <code>sencha app build</code></li>
              <li>Bei upgrade (etwa OpenLayers), <code>console</code> beachten</li>
              <li>Testing und MVVM: …</li>
          </ul>
        </section>

        <section>
            <h2>Tests &amp; MVVM</h2>
            <p>Strategie</p>
            <ul>
                <li>Node.js</li>
                <li>Server aufsetzen der <code>view</code>s, <code>viewmodel</code>s &amp; <code>controller</code> ausliefert</li>
                <li>Jeweils für <code>classic</code> wie <code>modern</code></li>
                <li><code>Ext.Loader</code> konfigurieren</li>
                <li>Idee:
                    <a href="https://github.com/KaiVolland"><code>@KaiVolland</code></a>
                    &amp;
                    <a href="https://github.com/marcjansen"><code>@marcjansen</code></a>
                </li>
            </ul>
        </section>

        <section>
            <h2><code>Ext.Loader</code> konfigurieren</h2>
            <pre><code data-trim>
Ext.Loader.setConfig({
    enabled: true,
    paths: {
        GeoExt: '../../lib/GeoExt/src',
        MyProject: 'http://localhost:3000'
    }
});
            </code></pre>
        </section>

        <section>
            <h2>Quelltext-Server</h2>
            <pre><code data-trim editable>
var express = require('express');
var path = require('path');
var serveStatic = require('serve-static');

var rootDir = path.join(__dirname, '..', '..');
// directories with source code, here for classic
var classicDir = path.normalize(path.join(rootDir, 'classic', 'src'));
var appDir = path.normalize(path.join(rootDir, 'app'));

var classicServer = express(); // Remember to configure CORS

classicServer.use(serveStatic(classicDir));
classicServer.use(serveStatic(appDir));

classicServer.listen(3000);

// same for modern
            </code></pre>
        </section>

        <section>
          <h2>Don'ts</h2>
          <ul>
              <li>Nicht auf Sencha CMD alleine verlassen</li>
              <li><code>modern</code>-Toolkit ignorieren</li>
              <li>Mixen von controller-Logic / inline-handlern</li>
              <li><a href="https://github.com/senchalabs/jsduck">JSDuck</a> ignorieren</li>
              <li>Andere Frameworks Bibliotheken ignorieren</li>
          </ul>
        </section>

        <section>
          <h1>Projekt-Beispiele</h1>
        </section>

        <section
            data-background-image="img/sd-kama-bmwi.jpg"
            data-background-size="20% auto"
            data-background-position="98% 2%">
          <h2>sd-kama</h2>
          <ul>
            <li><a href="https://www.sd-kama.de">www.sd-kama.de</a></li>
            <li>Smart-Data im Katastrophenmanagement</li>
            <li>Echtzeit Lageinformationssystem im Hochwasser-Krisenfall</li>
            <li>EUS als zentrale WebGIS-Anwendung</li>
            <li>Darstellung heterogener Daten in (R)Echtzeit mit
              <ul>
                <li>Geobezug</li>
                <li>Zeitbezug</li>
                <li>angereichert mit Pegelinformation</li>
              </ul>
            </li>
            <li>EUS umgesetzt mit GeoExt 3 </li>
          </ul>
        </section>

        <section
            data-background-image="img/sd-kama/start.png"
            data-background-size="contain">
            <p>&nbsp;</p>
        </section>

        <section
            data-background-image="img/sd-kama/sd-kama-heatmap.png"
            data-background-size="contain">
            <p>&nbsp;</p>
        </section>

        <section
            data-background-image="img/sd-kama/sd-kama-measures.png"
            data-background-size="contain">
            <p>&nbsp;</p>
        </section>

        <section
            data-background-image="img/sd-kama/sd-kama-measures2.png"
            data-background-size="contain">
            <p>&nbsp;</p>
        </section>

        <section
            data-background-image="img/sd-kama/sd-kama-mediacenter.png"
            data-background-size="contain">
            <p>&nbsp;</p>
        </section>

        <section
            data-background-image="img/sd-kama/sd-kama-damage.png"
            data-background-size="contain">
            <p>&nbsp;</p>
        </section>

        <section
            data-background-image="img/bfs-logo.png"
            data-background-size="200px auto"
            data-background-position="98% 2%">
          <h2>BfS Koala</h2>
          <ul>
            <li>Noch unveröffentlicht</li>
            <li>Ablösung bestehender GeoExt Applikationen</li>
            <li>Direkte Einflussnahme auf GeoExt 3</li>
            <li><a href="https://www.fossgis-konferenz.de/2017/programm/event.php?id=5188">'Open-Source -Strategien im Notfallschutz'</a> von M. Lechner</li>
          </ul>
        </section>

        <section
          data-background-image="img/bfs-01.png"
          data-background-size="contain">
          <p>&nbsp;</p>
        </section>

        <section
          data-background-image="img/bfs-02.png"
          data-background-size="contain">
          <p>&nbsp;</p>
        </section>

        <section
          data-background-image="img/bfs-03.png"
          data-background-size="contain">
          <p>&nbsp;</p>
        </section>

        <section
          data-background-image="img/bfs-04.png"
          data-background-size="contain">
          <p>&nbsp;</p>
        </section>

        <section>
          <h1>Aufbau Projektsetup</h1>
          <h2>Meine erste GeoExt-App in 5 Minuten</h2>
        </section>

        <section>
          <h3>Voraussetzungen</h3>
          <ul>
            <li><a href="https://www.sencha.com/products/extjs/cmd-download/">Sencha CMD</a> ist installiert</li>
            <li><a href="https://www.sencha.com/legal/gpl/">ExtJS 6.2</a> heruntergeladen</li>
          </ul>
          <p>App-Skeleton erzeugen mit Sencha CMD erzeugen</p>
          <pre><code data-trim>
$ sencha -sdk "/path/to/ext-6.2.0/" generate app MyFirstGeoExtApp MyFirstGeoExtApp
$ cd MyFirstGeoExtApp
$ sencha app watch
          </code></pre>
        </section>

        <section>
          <h3>OpenLayers zur Anwendung hinzufügen</h3>
          <p>
            In <code>app.json</code> Propety "js" wie folgt erweitern:
          </p>
          <pre><code data-trim>
"js": [{
    "path": "https://openlayers.org/en/v3.20.1/build/ol.js",
    "remote": true
  }, {
    "path": "app.js",
    "bundle": true
  }],
          </code></pre>
        </section>

        <section>
          <h3>GeoExt zur Anwendung hinzufügen</h3>
          <p>GeoExt-Sourcen per git beziehen <br />oder <code>git submodule</code></p>
          <pre><code data-trim>
$ cd packages
$ git clone https://github.com/geoext/geoext3.git
          </code></pre>
          <p>In <code>app.json</code> zum "classpath" hinzufügen:</p>
          <pre><code data-trim>
"classpath": [
    "app",
    "${toolkit.name}/src",
    "./packages/geoext3/src"
],
          </code></pre>
        </section>

        <section>
          <h3>Karten-View erzeugen</h3>
          <p>
            "Standard" ExtJS-View erzeugen
          </p>
          <pre><code data-trim>
sencha generate view main.Map
          </code></pre>
          <p>
            Anpassungen erzeugter View (<code>app/view/main/Map.js</code>):
          </p>
          <ul>
            <li>Ableitung von <code>GeoExt.component.Map</code> anstelle von <code>Ext.panel.Panel</code></li>
            <li>Zuweisung des <code>xtype: 'mappanel'</code> (Klassenalias)</li>
            <li>Hinzufügen eines Properties <code>map</code> (OpenLayers Karte)</li>
            <li>Entfernen des <code>html</code> Properties</li>
          </ul>
        </section>

        <section>
          <p><code>app/view/main/Map.js</code></p>
          <pre><code data-trim>
Ext.define("MyFirstGeoExtApp.view.main.Map",{
    // extend: "Ext.panel.Panel",
    extend: "GeoExt.component.Map",
    xtype: 'mappanel',
    requires: [
        "MyFirstGeoExtApp.view.main.MapController",
        "MyFirstGeoExtApp.view.main.MapModel"
    ],
    controller: "main-map",
    viewModel: {
        type: "main-map"
    },
    // html: "Hello, World!!"
    map: new ol.Map({
        layers: [
            new ol.layer.Tile({
                source: new ol.source.Stamen({
                    layer: 'watercolor'
                })
            }),
            new ol.layer.Tile({
                source: new ol.source.Stamen({
                    layer: 'terrain-labels'
                })
            })
        ],
        view: new ol.View({
            center: ol.proj.fromLonLat( [-8.751278, 40.611368] ),
            zoom: 12
        })
    })
});
          </code></pre>
        </section>

        <section>
          <h3>Karten-View in die Anwendung einhängen</h3>
          <p>
            In <code>classic/src/view/main/Main.js</code> und <code>modern/src/view/main/Main.js</code>
            folgendes in das Property <code>items</code> einfügen
          </p>
          <pre><code data-trim>
{
    title: 'GeoExt3 OL3 Map',
    iconCls: 'fa-map-marker',
    layout: 'fit',
    items: [{
        xtype: 'mappanel'
    }]
}
          </code></pre>
        </section>

        <section>
            <pre><code data-trim>
$ sencha app watch
            </code></pre>
            <img src="img/MyFirstGeoExtApp.png" alt="MyFirstGeoExtApp Screenshot" />
        </section>

        <section id="thanks-questions">
          <h4>Vielen Dank</h4>
          <hr />
          <h1 style="font-size:3.0em">Fragen &amp; Anmerkungen?</h1>
          <hr />
          <p class="subtle">
            <a href="#/imprint">Impressum</a>
          </p>
        </section>

        <section id="imprint">
          <h2>Impressum</h2>
          <h4>Autoren</h4>
          <div style="width: 45%; float: right;">
            <address style="text-align: right">
              <strong>Christian Mayer</strong><br />
              <span style="font-size: smaller;">
              meggsimum<br />
              Hauptstraße 165a<br />
              67125 Dannstadt-Schauernheim<br />
              chris@meggsimum.de
              </span>
            </address>
          </div>
          <div style="width: 45%; float: left;">
            <address style="text-align: left">
              <strong>Marc Jansen</strong><br />
              <span style="font-size: smaller;">
              terrestris GmbH &amp; Co. KG<br />
              Kölnstr. 99<br />
              53111 Bonn<br />
              jansen@terrestris.de
              </span>
            </address>
          </div>
          <h4 style="clear:both;">Lizenz</h4>
          <p id="license">
            Diese Folien sind unter <a
            href="http://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA</a>
            veröffentlicht.
          </p>
          <p>
            <a href="https://rawgit.com/chrismayer/fossgis2017/master/geoext3-talk/index.html">Vortragsfolien</a>,
            <a href="https://rawgit.com/chrismayer/fossgis2017/master/geoext3-talk/geoext-3-in-der-praxis-mayer-jansen-fossgis-2017.pdf">PDF-Version</a>,
            <a href="https://github.com/chrismayer/fossgis2016">git repository</a>
          </p>
        </section>

      </div>
    </div>


<!-- END OF SLIDES -->


    <script src="../shared/lib/reveal.js-3.3.0/lib/js/head.min.js"></script>
    <script src="../shared/lib/reveal.js-3.3.0/js/reveal.js"></script>
    <script>
(function () {
  var revealPath = '../shared/lib/reveal.js-3.3.0/';
  // More info https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    history: true,

    // More info https://github.com/hakimel/reveal.js#dependencies
    dependencies: [
      {
        src: revealPath + 'plugin/markdown/marked.js'
      },
      {
        src: revealPath + 'plugin/markdown/markdown.js'
      },
      {
        src: revealPath + 'plugin/notes/notes.js',
        async: true
      },
      {
        src: revealPath + 'plugin/highlight/highlight.js',
        async: true,
        callback: function() {
          hljs.initHighlightingOnLoad();
        }
      }
    ]
  });
}());
    </script>
  </body>
</html>
